# Архитектура

Python-Cellframe SDK предоставляет биндинги (обертки) для платформы CellFrame, позволяя разработчикам писать сервисы на Python, используя производительность ядра на C.

## Уровни

Архитектура состоит из нескольких уровней:

1.  **python-cellframe**: Высокоуровневые биндинги для блокчейн-функционала (Кошельки, Транзакции, Леджер, Консенсус).
2.  **python-dap**: Низкоуровневые биндинги для DAP SDK (Сеть, Криптография, Конфигурация, Global Database).
3.  **cellframe-sdk (C)**: Основная реализация блокчейн-протоколов CellFrame.
4.  **dap-sdk (C)**: Базовая библиотека для работы с сетью, криптографией и распределенными системами.

## Взаимодействие

Python код взаимодействует с C ядром через расширения Python C Extensions.

*   **Вызовы**: Python вызывает методы объектов SDK (`Wallet`, `AppCliServer` и др.), которые перенаправляются в C функции.
*   **Обратные вызовы (Callbacks)**: C ядро может вызывать функции Python (слушатели, уведомители) при наступлении событий (например, получен сетевой пакет, обнаружена транзакция).

## Управление памятью

Большинство объектов в Python-Cellframe являются обертками над C структурами.
*   **Владение**: Некоторые объекты принадлежат C ядру и только ссылаются из Python. Другие создаются в Python и управляются сборщиком мусора Python, который очищает память C при удалении объекта.
*   **Потоки**: См. `threading_model.md` для деталей о конкурентности.

