# üöÄ –ó–ê–î–ê–ß–ê: –†–ê–°–®–ò–†–ï–ù–ò–Ø SLC –ê–ì–ï–ù–¢–ê

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 21 –∏—é–Ω—è 2025  
**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ü–†–û–¶–ï–°–°–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í–´–°–û–ö–ò–ô  
**–¢–∏–ø:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è  

## üéØ –û–ë–ó–û–† –ó–ê–î–ê–ß–ò

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ 6 –∫–ª—é—á–µ–≤—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –¥–ª—è SLC Agent:
1. **MCP –ø–æ–∏—Å–∫** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å –∏ Google
2. **MCP –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç** - —á—Ç–µ–Ω–∏–µ —Å–∞–π—Ç–æ–≤ —Å –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å—é
3. **MCP VNC** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥–µ—Å–∫—Ç–æ–ø–æ–º
4. **–ü—Ä–æ—Ñ–∏–ª–∏ –∞–≥–µ–Ω—Ç–∞** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ "–ø—Ä–æ—Ñ–µ—Å—Å–∏–∏"
5. **–ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ MongoDB —Å –ø–æ–∏—Å–∫–æ–º
6. **–õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏

## üìã –î–ï–¢–ê–õ–¨–ù–ê–Ø –î–ï–ö–û–ú–ü–û–ó–ò–¶–ò–Ø

### 1. üîç MCP –≠–ù–î–ü–û–ò–ù–¢ –î–õ–Ø –ü–û–ò–°–ö–ê

#### üéØ –¶–µ–ª–∏:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å Search API
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Search API
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞ —á–µ—Ä–µ–∑ MCP

#### üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```python
# slc-agent/src/integrations/search_mcp_client.py
class SearchMCPClient:
    def __init__(self):
        self.yandex_api_key = os.getenv('YANDEX_SEARCH_API_KEY')
        self.google_api_key = os.getenv('GOOGLE_SEARCH_API_KEY')
        self.google_cx = os.getenv('GOOGLE_SEARCH_CX')
    
    async def search_yandex(self, query: str, count: int = 10):
        """–ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å"""
        
    async def search_google(self, query: str, count: int = 10):
        """–ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Google"""
        
    async def unified_search(self, query: str, providers: List[str] = None):
        """–û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º"""
```

#### üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **SearchMCPClient** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç
- **YandexSearchProvider** - –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ø–Ω–¥–µ–∫—Å
- **GoogleSearchProvider** - –ø—Ä–æ–≤–∞–π–¥–µ—Ä Google
- **SearchResultProcessor** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **SearchMCPServer** - MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞

#### üìä MCP –ú–µ—Ç–æ–¥—ã:
- `search_web` - –æ–±—â–∏–π –ø–æ–∏—Å–∫
- `search_yandex` - –ø–æ–∏—Å–∫ –≤ –Ø–Ω–¥–µ–∫—Å
- `search_google` - –ø–æ–∏—Å–∫ –≤ Google
- `get_search_suggestions` - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞

---

### 2. üåê MCP –≠–ù–î–ü–û–ò–ù–¢ –î–õ–Ø –ß–¢–ï–ù–ò–Ø –°–ê–ô–¢–û–í

#### üéØ –¶–µ–ª–∏:
- –ß—Ç–µ–Ω–∏–µ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–∞–π—Ç–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ JavaScript-heavy —Å–∞–π—Ç–æ–≤

#### üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```python
# slc-agent/src/integrations/web_content_mcp_client.py
class WebContentMCPClient:
    def __init__(self):
        self.playwright_browser = None
        self.vision_model = VisionModel()
    
    async def read_website(self, url: str, include_images: bool = False):
        """–ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–∞–π—Ç–∞"""
        
    async def analyze_images(self, image_urls: List[str]):
        """–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å"""
        
    async def extract_structured_data(self, html: str):
        """–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"""
```

#### üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **WebContentMCPClient** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç
- **PlaywrightScraper** - —Å–∫—Ä–∞–ø–∏–Ω–≥ —á–µ—Ä–µ–∑ Playwright
- **VisionAnalyzer** - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **ContentExtractor** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **StructuredDataParser** - –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### üìä MCP –ú–µ—Ç–æ–¥—ã:
- `read_webpage` - —á—Ç–µ–Ω–∏–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `analyze_webpage_images` - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- `extract_webpage_text` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–∞
- `get_webpage_metadata` - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- `screenshot_webpage` - —Å–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

### 3. üñ•Ô∏è MCP –≠–ù–î–ü–û–ò–ù–¢ –î–õ–Ø VNC

#### üéØ –¶–µ–ª–∏:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VNC —Å–µ—Ä–≤–µ—Ä–∞–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à—å—é –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
- –°–Ω—è—Ç–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —ç–∫—Ä–∞–Ω–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è GUI –¥–µ–π—Å—Ç–≤–∏–π

#### üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```python
# slc-agent/src/integrations/vnc_mcp_client.py
class VNCMCPClient:
    def __init__(self):
        self.vnc_connections = {}
        self.vision_model = VisionModel()
    
    async def connect_vnc(self, host: str, port: int, password: str):
        """–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VNC —Å–µ—Ä–≤–µ—Ä—É"""
        
    async def take_screenshot(self, connection_id: str):
        """–°–Ω—è—Ç–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞"""
        
    async def click_at(self, connection_id: str, x: int, y: int):
        """–ö–ª–∏–∫ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º"""
        
    async def analyze_screen(self, connection_id: str):
        """–ê–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ Vision –º–æ–¥–µ–ª—å"""
```

#### üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **VNCMCPClient** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç
- **VNCConnectionManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏
- **ScreenAnalyzer** - –∞–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ Vision
- **GUIAutomator** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è GUI
- **VNCSecurityManager** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

#### üìä MCP –ú–µ—Ç–æ–¥—ã:
- `vnc_connect` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VNC
- `vnc_disconnect` - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç VNC
- `vnc_screenshot` - —Å–∫—Ä–∏–Ω—à–æ—Ç —ç–∫—Ä–∞–Ω–∞
- `vnc_click` - –∫–ª–∏–∫ –º—ã—à—å—é
- `vnc_type` - –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
- `vnc_analyze_screen` - –∞–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞

---

### 4. üëî –ü–†–û–§–ò–õ–ò –ê–ì–ï–ù–¢–ê (–ü–†–û–§–ï–°–°–ò–ò)

#### üéØ –¶–µ–ª–∏:
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- –û–±—É—á–µ–Ω–∏–µ –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ—Ñ–∏–ª—è–º–∏

#### üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```python
# slc-agent/src/core/agent_profiles.py
class AgentProfileManager:
    def __init__(self):
        self.profiles = {}
        self.current_profile = "programmer"
        self.profile_history = []
    
    async def load_profile(self, profile_name: str):
        """–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è"""
        
    async def create_profile(self, profile_data: dict):
        """–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è"""
        
    async def train_profile(self, profile_name: str, feedback: dict):
        """–û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏"""
```

#### üîß –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏:
1. **–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –∫–æ–¥, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –æ—Ç–ª–∞–¥–∫–∞
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: IDE, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, CI/CD
   - –°—Ç–∏–ª—å: —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π, –¥–µ—Ç–∞–ª—å–Ω—ã–π

2. **–ü–ú (Product Manager)**
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –º–µ—Ç—Ä–∏–∫–∏
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: roadmap, backlog, analytics
   - –°—Ç–∏–ª—å: —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π, –±–∏–∑–Ω–µ—Å-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫**
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: QA, –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã, –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: —Ç–µ—Å—Ç-–∫–µ–π—Å—ã, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
   - –°—Ç–∏–ª—å: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π, –º–µ—Ç–æ–¥–∏—á–Ω—ã–π

4. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å**
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, guides, API docs
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: markdown, –¥–∏–∞–≥—Ä–∞–º–º—ã, –ø—Ä–∏–º–µ—Ä—ã
   - –°—Ç–∏–ª—å: —è—Å–Ω—ã–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

5. **–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞**
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: ticket system, knowledge base
   - –°—Ç–∏–ª—å: –ø–æ–º–æ–≥–∞—é—â–∏–π, —Ç–µ—Ä–ø–µ–ª–∏–≤—ã–π

#### üìä –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **AgentProfileManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- **ProfileLoader** - –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π
- **ProfileTrainer** - –æ–±—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π
- **ContextAdapter** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–¥ –ø—Ä–æ—Ñ–∏–ª—å
- **ProfileAnalytics** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

### 5. üí¨ –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ß–ê–¢–û–í –í MONGODB

#### üéØ –¶–µ–ª–∏:
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- MCP —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏

#### üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```python
# slc-agent/src/integrations/chat_history_mcp_client.py
class ChatHistoryMCPClient:
    def __init__(self):
        self.mongo_client = MongoClient()
        self.db = self.mongo_client.slc_agent
        self.collection = self.db.chat_history
        self.setup_indexes()
    
    async def log_message(self, user_id: str, message: dict):
        """–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è"""
        
    async def search_history(self, query: str, user_id: str = None):
        """–ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤"""
        
    async def get_conversation_context(self, user_id: str, limit: int = 50):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞"""
```

#### üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```python
chat_message = {
    "_id": ObjectId(),
    "user_id": "user123",
    "session_id": "session456", 
    "timestamp": datetime.utcnow(),
    "message_type": "user|assistant|system",
    "content": "—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
    "metadata": {
        "profile": "programmer",
        "model": "devstral",
        "tokens_used": 150,
        "response_time": 2.5
    },
    "context": {
        "task_id": "task789",
        "files_loaded": ["file1.py", "file2.py"],
        "commands_executed": ["test", "deploy"]
    },
    "indexed_content": "–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–µ–∫—Å—Ç"
}
```

#### üìä –ò–Ω–¥–µ–∫—Å—ã MongoDB:
- `user_id + timestamp` - —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
- `content (text)` - –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- `metadata.profile + timestamp` - –ø–æ–∏—Å–∫ –ø–æ –ø—Ä–æ—Ñ–∏–ª—é
- `context.task_id` - –ø–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º
- `session_id + timestamp` - –ø–æ–∏—Å–∫ –ø–æ —Å–µ—Å—Å–∏–∏

#### üîß MCP –ú–µ—Ç–æ–¥—ã:
- `log_chat_message` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `search_chat_history` - –ø–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
- `get_user_conversations` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `get_conversation_summary` - —Ä–µ–∑—é–º–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- `analyze_chat_patterns` - –∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–±—â–µ–Ω–∏—è

---

### 6. üè† –õ–û–ö–ê–õ–¨–ù–´–ô –†–ï–ñ–ò–ú

#### üéØ –¶–µ–ª–∏:
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –æ–±–ª–∞—á–Ω—ã–º–∏ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
- –†–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ API (Ollama)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è offline —Ä–∞–±–æ—Ç—ã
- –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞–º–∏

#### üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```python
# slc-agent/src/core/local_mode_manager.py
class LocalModeManager:
    def __init__(self):
        self.current_mode = "hybrid"  # local, cloud, hybrid
        self.local_models = {}
        self.cloud_models = {}
    
    async def switch_to_local(self):
        """–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º"""
        
    async def switch_to_cloud(self):
        """–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ –æ–±–ª–∞—á–Ω—ã–π —Ä–µ–∂–∏–º"""
        
    async def switch_to_hybrid(self):
        """–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ –≥–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º"""
```

#### üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **LocalModeManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏
- **LocalModelProvider** - –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- **CloudModelProvider** - –ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ–±–ª–∞—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- **HybridModelRouter** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- **ModelCapabilityMatcher** - –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –ø–æ –∑–∞–¥–∞—á–µ

#### üìä –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- `./slc local-mode on` - –≤–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
- `./slc local-mode off` - –≤—ã–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
- `./slc local-mode status` - —Å—Ç–∞—Ç—É—Å —Ä–µ–∂–∏–º–∞
- `./slc local-mode models` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- `./slc local-mode test` - —Ç–µ—Å—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

## üìà –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### üöÄ –§–∞–∑–∞ 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (1-2 –¥–Ω—è)
1. **–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã MCP –∫–ª–∏–µ–Ω—Ç–æ–≤**
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MongoDB –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤**
3. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ—Ñ–∏–ª–µ–π –∞–≥–µ–Ω—Ç–∞**
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞**

### üîß –§–∞–∑–∞ 2: –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (3-4 –¥–Ω—è)
1. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ (–Ø–Ω–¥–µ–∫—Å + Google)**
2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è —Å–∞–π—Ç–æ–≤ —Å Playwright**
3. **–ë–∞–∑–æ–≤–∞—è VNC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–æ–≤ –≤ MongoDB**

### üéØ –§–∞–∑–∞ 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (2-3 –¥–Ω—è)
1. **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
2. **VNC –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å Vision**
3. **–û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –∞–≥–µ–Ω—Ç–∞**
4. **–ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤**

### üß™ –§–∞–∑–∞ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (1-2 –¥–Ω—è)
1. **–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º**
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- [ ] –ü–æ–∏—Å–∫ –≤ –Ø–Ω–¥–µ–∫—Å –∏ Google —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ß—Ç–µ–Ω–∏–µ —Å–∞–π—Ç–æ–≤ —Å –∞–Ω–∞–ª–∏–∑–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] VNC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [ ] 5 –±–∞–∑–æ–≤—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π –∞–≥–µ–Ω—Ç–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ –≤ MongoDB
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º

### üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- [ ] –í—Å–µ MCP —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] MongoDB –∏–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç offline
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ > 80%

### üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- [ ] –ü–æ–∏—Å–∫ < 3 —Å–µ–∫—É–Ω–¥
- [ ] –ß—Ç–µ–Ω–∏–µ —Å–∞–π—Ç–∞ < 10 —Å–µ–∫—É–Ω–¥
- [ ] VNC –æ—Ç–∫–ª–∏–∫ < 1 —Å–µ–∫—É–Ω–¥—ã
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è < 2 —Å–µ–∫—É–Ω–¥
- [ ] –ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ < 1 —Å–µ–∫—É–Ω–¥—ã

## üîÑ –°–¢–ê–¢–£–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 17% (1/6 —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –≥–æ—Ç–æ–≤–æ)  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–∞—Ç–æ–≤ –≤ MongoDB  

### ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û:
1. **üè† –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º** - 100% –≥–æ—Ç–æ–≤!
   - ‚úÖ LocalModeManager —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
   - ‚úÖ –ö–æ–º–∞–Ω–¥—ã: local_mode on/off/status/models/test/hybrid
   - ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama –∏ API –∫–ª—é—á–µ–π
   - ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∏—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π

### üîÑ –í –ü–†–û–¶–ï–°–°–ï:
2. **üí¨ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–æ–≤ –≤ MongoDB** - —Å–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞

### üìã –û–ß–ï–†–ï–î–¨:
3. üëî –ü—Ä–æ—Ñ–∏–ª–∏ –∞–≥–µ–Ω—Ç–∞ (–¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)
4. üîç –ü–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)
5. üåê –ß—Ç–µ–Ω–∏–µ —Å–∞–π—Ç–æ–≤ (—Å–ª–æ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
6. üñ•Ô∏è VNC —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞)

---
**üéØ –ì–û–¢–û–í –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò!** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞–Ω—ã. 